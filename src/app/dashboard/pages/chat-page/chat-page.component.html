<div class="flex flex-row h-full items-center mx-2">
  <div class="chat-messages w-full h-full py-2">
    <div class="w-full h-full flex flex-col bg-white rounded-xl">
      <!-- chat header -->
      <div class="flex flex-row py-5 px-8 border-solid border-y">
        <div
          class="chat-img flex flex-none justify-end items-end w-14 h-14 bg-cover bg-center"
          [style]="{
            'background-image': 'url(' + getChatItem()?.profileImage + ')'
          }"
        >
          <span
            class="w-4 h-4 m-0.5 rounded-full border-solid border-2 border-white"
            [class.bg-green-500]="getChatItem()?.status === 'En lÃ­nea'"
            [class.bg-red-500]="getChatItem()?.status === 'Ocupado'"
            [class.bg-gray-500]="getChatItem()?.status === 'Desconectado'"
            [class.bg-yellow-500]="getChatItem()?.status === 'Ausente'"
            [class.bg-blue-500]="getChatItem()?.status === 'En llamada'"
          ></span>
        </div>
        <div
          class="w-full flex flex-col justify-center font-semibold space-y-0 mx-4 pr-28"
        >
          <span>{{ getChatItem()?.profileName }}</span>
          <span
            class="text-sm text-gray-500 overflow-hidden overflow-ellipsis whitespace-nowrap"
          >
            {{ getChatItem()?.status }}
          </span>
        </div>
        <div class="flex justify-center items-center text-gray-500">
          <div class="bg-gray-200 rounded py-2 px-4 border border-solid">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 576 512"
              stroke="currentColor"
              fill="currentColor"
              class="size-6"
            >
              <path
                d="M0 128C0 92.7 28.7 64 64 64H320c35.3 0 64 28.7 64 64V384c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V128zM559.1 99.8c10.4 5.6 16.9 16.4 16.9 28.2V384c0 11.8-6.5 22.6-16.9 28.2s-23 5-32.9-1.6l-96-64L416 337.1V320 192 174.9l14.2-9.5 96-64c9.8-6.5 22.4-7.2 32.9-1.6z"
              />
            </svg>
          </div>
        </div>
      </div>
      <!-- chat messages -->
      <div class="flex flex-col overflow-y-auto" #chatContainer></div>
      <!-- chat input -->
      <div class="w-full grow self-end flex flex-row p-4 border-solid border-t">
        <form
          [formGroup]="form"
          autocomplete="off"
          (ngSubmit)="onSendMessage()"
          class="w-full"
        >
          <div class="w-full flex flex-row text-gray-500">
            <label
              class="w-full flex flex-row space-x-2 border-solid rounded border-2 p-4 bg-gray-100 focus-within:border-gray-400 transition-colors duration-150"
            >
              <input
                type="text"
                class="w-full border-0 p-0 m-0 focus:outline-none focus:shadow-none bg-gray-100"
                placeholder="Escribe un mensaje..."
                formControlName="message"
              />
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="size-6"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="m18.375 12.739-7.693 7.693a4.5 4.5 0 0 1-6.364-6.364l10.94-10.94A3 3 0 1 1 19.5 7.372L8.552 18.32m.009-.01-.01.01m5.699-9.941-7.81 7.81a1.5 1.5 0 0 0 2.112 2.13"
                />
              </svg>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="size-6"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M15.182 15.182a4.5 4.5 0 0 1-6.364 0M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0ZM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Z"
                />
              </svg>
            </label>
            <button
              class="bg-blue-500 text-white rounded-md p-4 ml-2"
              type="submit"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="size-6"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"
                />
              </svg>
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
  <div class="w-[30rem] h-full grow">
    <dashboard-search-card
      [chatItems]="getChatItems()"
      (selectedChatItem)="selectChatItem($event)"
    ></dashboard-search-card>
  </div>
</div>
